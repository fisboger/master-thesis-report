\documentclass{report}
\usepackage{import}
\subimport{../../}{preamble.tex}
\standalonetrue
\begin{document}

% sample content
\section{Event tracing for Windows}
\label{cha:etw}
\todo{Add proper description of what ETW is.}
\todo{Mention that we do not look at this from a developers perspective, but from analyzing already made applications/drivers}
In the architecture of \gls{etw} events are at the centerpiece where they are created, managed and consumed by different event components\cite{url:etw:about}. These differentiate between event \emph{providers}, event \emph{consumers}, and event \emph{controllers}. All of these event components handle the workflow of \gls{etw}, either by reading or writing, or by controlling the events in some way.

\subsection{Event components}
\todo{figure out if the components should just be subsections}
\subsubsection{Controllers}
\subsubsection{Providers}
Providers are the system- and userland applications that provide events and data. They do so by registering themselves as a provider, allowing a controller to enable or disable events. By having the controller control whether events are enabled or not, allows an application to have tracing without generating alerts all the time. This is especially interesting for debugging purposes, which is usually not needed during regular usage.
\\
\\
Microsoft define four different types of providers depending on the version of Windows and type of application you are interested in.

\paragraph{\gls{mof} (classic) providers}

\paragraph{\gls{wpp} providers}

\paragraph{Manifest-based providers}

\paragraph{TraceLogging providers}

\subsubsection{Consumers}
Consumers are applications that consume events from providers. This is done through event \emph{trace sessions}, where one session is created per provider. Consumers have the ability to both receive events in real time from \emph{trace sessions}, or later on by events stored in log files. Furthermore, events can be filtered by many attributes such as timestamps.

Figure \todo{add ref to figure} shows how the different components of \gls{etw} works together to produce and consume events


\subimport{}{finding-providers.tex}
\subimport{}{consuming-events.tex}

% \subimport{}{subsubsection.tex}

\end{document}